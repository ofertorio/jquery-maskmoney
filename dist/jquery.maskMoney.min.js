/*
 *  jquery-maskmoney - v3.1.1
 *  jQuery plugin to mask data entry in the input text in the form of money (currency)
 *  https://github.com/plentz/jquery-maskmoney
 *
 *  Made by Diego Plentz
 *  Under MIT License
 */

!function($){"use strict";$.browser||($.browser={},$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),$.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var n={prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1,doubleClickSelection:!0,allowEmpty:!1,bringCaretAtEndOnFocus:!0},t={destroy:function(){return $(this).off(".maskMoney"),$(this).off("blur"),$(this).off("focus"),$.browser.msie&&(this.onpaste=null),this},applyMask:function(e){return p(e,$(this).data("settings"))},mask:function(t){return this.each(function(){var e=$(this);return"number"==typeof t&&e.val(t),e.trigger("mask")})},unmasked:function(){return this.map(function(){var n,e=$(this).val()||"0",t=-1!==e.indexOf("-");return $(e.split(/\D/).reverse()).each(function(e,t){if(t)return n=t,!1}),e=(e=e.replace(/\D/g,"")).replace(new RegExp(n+"$"),"."+n),t&&(e="-"+e),parseFloat(e)})},unmaskedWithOptions:function(){return this.map(function(){var e=$(this).val()||"0",t=$(this).data("settings")||n,t=new RegExp(t.thousandsForUnmasked||t.thousands,"g"),e=e.replace(t,"");return parseFloat(e)})},init:function(o){return o=$.extend($.extend({},n),o),this.each(function(){var s,t,l=$(this);function c(){var e,t,n,a,r=l.get(0),i=0,o=0;return"number"==typeof r.selectionStart&&"number"==typeof r.selectionEnd?(i=r.selectionStart,o=r.selectionEnd):(t=document.selection.createRange())&&t.parentElement()===r&&(a=r.value.length,e=r.value.replace(/\r\n/g,"\n"),(n=r.createTextRange()).moveToBookmark(t.getBookmark()),(r=r.createTextRange()).collapse(!1),-1<n.compareEndPoints("StartToEnd",r)?i=o=a:(i=-n.moveStart("character",-a),i+=e.slice(0,i).split("\n").length-1,-1<n.compareEndPoints("EndToEnd",r)?o=a:(o=-n.moveEnd("character",-a),o+=e.slice(0,o).split("\n").length-1))),{start:i,end:o}}function r(e){var t,n,a=l.val().length;l.val(p(l.val(),s)),t=l.val().length,s.reverse||(e-=a-t),n=e,s.formatOnBlur||l.each(function(e,t){t.setSelectionRange?(t.focus(),t.setSelectionRange(n,n)):t.createTextRange&&((t=t.createTextRange()).collapse(!0),t.moveEnd("character",n),t.moveStart("character",n),t.select())})}function n(){var e,t,n,a=l.val();s.allowEmpty&&""===a||(e=!isNaN(a)?a.indexOf("."):a.indexOf(s.decimal),0<s.precision?e<0?a+=s.decimal+new Array(s.precision+1).join(0):((t=Array.from(a.matchAll(/[\.\,]/g))).length&&(n=t[t.length-1],e=(a=a.substr(0,n.index).replace(/[\.\,]/g,"")+s.decimal+a.substr(n.index+1)).indexOf(s.decimal)),t=a.slice(0,e),n=a.slice(e+1),a=t+s.decimal+n+new Array(s.precision+1-n.length).join(0)):0<e&&(a=a.slice(0,e)),l.val(p(a,s)))}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function a(e){var t,n,a,r,i=(e=e||window.event).which||e.charCode||e.keyCode,o=s.decimal.charCodeAt(0);return void 0!==i&&(!(i<48||57<i)||i===o&&s.reverse?(t=!(l.val().length>=l.attr("maxlength")&&0<=l.attr("maxlength")),n=c(),a=n.start,r=n.end,a=!(n.start===n.end||!l.val().substring(a,r).match(/\d/)),r="0"===l.val().substring(0,1),(t||a||r)&&((i!==o||!function(){if(function(){var e=l.val().length,t=c();return 0===t.start&&t.end===e}())return!1;return-1<l.val().indexOf(s.decimal)}())&&(!!s.formatOnBlur||(u(e),d(e),!1)))):(e=e,45===(i=i)?(l.val(function(){var e=l.val();return s.allowNegative?""!==e&&"-"===e.charAt(0)?e.replace("-",""):"-"+e:e}()),!1):43===i?(l.val(l.val().replace("-","")),!1):(13===i||9===i||$.browser.mozilla&&(37===i||39===i)&&0===e.charCode||u(e),!0)))}function d(e){var t,n=(e=e||window.event).which||e.charCode||e.keyCode,a="";48<=n&&n<=57&&(a=String.fromCharCode(n)),e=(t=c()).start,n=t.end,t=l.val(),l.val(t.substring(0,e)+a+t.substring(n,t.length)),r(e+1)}function e(){setTimeout(function(){n()},0)}function i(){return(parseFloat("0")/Math.pow(10,s.precision)).toFixed(s.precision).replace(new RegExp("\\.","g"),s.decimal)}s=$.extend({},o),s=$.extend(s,l.data()),l.data("settings",s),$.browser.device&&l.attr("type","tel"),l.off(".maskMoney"),l.bind("keypress.maskMoney",a),l.bind("keydown.maskMoney",function(e){var t,n,a=(e=e||window.event).which||e.charCode||e.keyCode;return void 0!==a&&(t=(n=c()).start,n=n.end,8!==a&&46!==a&&63272!==a||(u(e),e=l.val(),t===n&&(8===a?""===s.suffix?--t:(a=e.split("").reverse().join("").search(/\d/),n=(t=e.length-a-1)+1):n+=1),l.val(e.substring(0,t)+e.substring(n,e.length)),r(t),!1))}),l.bind("blur.maskMoney",function(e){$.browser.msie&&a(e),s.formatOnBlur&&l.val()!==t&&d(e),""===l.val()&&s.allowEmpty?l.val(""):""===l.val()||l.val()===f(i(),s)?s.allowZero?s.affixesStay?l.val(f(i(),s)):l.val(i()):l.val(""):s.affixesStay||(e=l.val().replace(s.prefix,"").replace(s.suffix,""),l.val(e)),l.val()!==t&&l.change()}),l.bind("focus.maskMoney",function(){t=l.val(),n();var e=l.get(0);s.selectAllOnFocus?e.select():e.createTextRange&&s.bringCaretAtEndOnFocus&&((e=e.createTextRange()).collapse(!1),e.select())}),l.bind("click.maskMoney",function(){var e,t=l.get(0);s.selectAllOnFocus||(t.setSelectionRange&&s.bringCaretAtEndOnFocus?(e=l.val().length,t.setSelectionRange(e,e)):l.val(l.val()))}),l.bind("dblclick.maskMoney",function(){var e,t,n=l.get(0);n.setSelectionRange&&s.bringCaretAtEndOnFocus?(t=l.val().length,e=s.doubleClickSelection?0:t,n.setSelectionRange(e,t)):l.val(l.val())}),l.bind("cut.maskMoney",e),l.bind("paste.maskMoney",e),l.bind("mask.maskMoney",n)})}};function f(e,t){var n="";return-1<e.indexOf("-")&&(e=e.replace("-",""),n="-"),-1<(e=-1<e.indexOf(t.prefix)?e.replace(t.prefix,""):e).indexOf(t.suffix)&&(e=e.replace(t.suffix,"")),n+t.prefix+e+t.suffix}function p(e,t){return t.allowEmpty&&""===e?"":(t.reverse?function(e,t){var n=-1<e.indexOf("-")&&t.allowNegative?"-":"",a=e.replace(t.prefix,"").replace(t.suffix,""),r=a.split(t.decimal)[0],e="";""===r&&(r="0");n=o(r,n,t),0<t.precision&&(1<(a=a.split(t.decimal)).length&&(e=a[1]),n+=t.decimal+e,e=Number.parseFloat(r+"."+e).toFixed(t.precision).toString().split(t.decimal)[1],n=n.split(t.decimal)[0]+"."+e);return f(n,t)}:function(e,t){var n,a=-1<e.indexOf("-")&&t.allowNegative?"-":"",r=e.replace(/[^0-9]/g,""),i=r.slice(0,r.length-t.precision);n=o(i,a,t),0<t.precision&&(!isNaN(e)&&e.indexOf(".")&&(e=e.substr(e.indexOf(".")+1),r=new Array(t.precision+1-e.length).join(0)+r,i=r.slice(0,r.length-t.precision),n=o(i,a,t)),a=r.slice(r.length-t.precision),r=new Array(t.precision+1-a.length).join(0),n+=t.decimal+r+a);return f(n,t)})(e,t)}function o(e,t,n){return t+(e=""===(e=(e=e.replace(/^0*/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands))?"0":e)}$.fn.maskMoney=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.maskMoney"):t.init.apply(this,arguments)}}(window.jQuery||window.Zepto);